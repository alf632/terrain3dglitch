[gd_scene load_steps=14 format=3 uid="uid://tsh8b5qioguw"]

[ext_resource type="Script" path="res://demo.gd" id="1_kv1a4"]
[ext_resource type="Script" path="res://DemoMatch.gd" id="2_ivema"]
[ext_resource type="PackedScene" uid="uid://dh8dedilkhuoy" path="res://source/match/players/human/Human.tscn" id="3_33wqp"]
[ext_resource type="Script" path="res://source/match/FpsCamera3D.gd" id="3_hsuq8"]
[ext_resource type="Script" path="res://DemoUnit.gd" id="5_4k75h"]
[ext_resource type="PackedScene" uid="uid://c0uxy26e4qs4w" path="res://source/match/handlers/MouseClickAnimationsHandler.tscn" id="6_bfq1i"]
[ext_resource type="PackedScene" uid="uid://b373fjcto1l4h" path="res://source/match/handlers/NavHandler.tscn" id="8_1k210"]
[ext_resource type="PackedScene" uid="uid://bj8c6tdt6o1yt" path="res://source/match/players/Player.tscn" id="8_go0lg"]
[ext_resource type="PackedScene" uid="uid://dmlef1nchuam4" path="res://source/match/maps/3Dmap/3Dmap.tscn" id="12_kfcua"]
[ext_resource type="PackedScene" uid="uid://bem5u20vcnnd7" path="res://source/match/units/traits/DirectMovement.tscn" id="13_qthh1"]
[ext_resource type="PackedScene" uid="uid://i58ffvwxbbwm" path="res://source/match/units/Tank.tscn" id="14_vdgu8"]

[sub_resource type="Environment" id="Environment_g6rmh"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ht2rm"]

[node name="Demo" type="Node3D"]
script = ExtResource("1_kv1a4")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_g6rmh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.512043, 0.673161, -0.533541, 0, 0.621148, 0.783694, 0.85896, -0.401285, 0.318054, 0, 38.7614, 0)
shadow_enabled = true
shadow_blur = 0.05
directional_shadow_split_1 = 0.45
directional_shadow_split_2 = 0.5
directional_shadow_split_3 = 0.55
directional_shadow_blend_splits = true
directional_shadow_pancake_size = 100.0

[node name="Match" type="Node3D" parent="."]
script = ExtResource("2_ivema")

[node name="Players" type="Node3D" parent="Match"]

[node name="Human" parent="Match/Players" instance=ExtResource("3_33wqp")]

[node name="Handlers" type="Node3D" parent="Match"]

[node name="NavHandler" parent="Match/Handlers" instance=ExtResource("8_1k210")]

[node name="MouseClickAnimationsHandler" parent="Match/Handlers" instance=ExtResource("6_bfq1i")]

[node name="Units" type="Node3D" parent="Match"]

[node name="Player" parent="Match/Units" instance=ExtResource("8_go0lg")]

[node name="Unit" type="CharacterBody3D" parent="Match/Units/Player"]
transform = Transform3D(1, 0, 0, 0, 0.890816, 0.454364, 0, -0.454364, 0.890816, 238.757, 14.072, 237.332)
motion_mode = 1
script = ExtResource("5_4k75h")

[node name="Camera3D" type="Camera3D" parent="Match/Units/Player/Unit"]
current = true
script = ExtResource("3_hsuq8")

[node name="DirectMovement" parent="Match/Units/Player/Unit" instance=ExtResource("13_qthh1")]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Match/Units/Player/Unit"]
shape = SubResource("CylinderShape3D_ht2rm")

[node name="Tank" parent="Match/Units/Player" instance=ExtResource("14_vdgu8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 238.757, 1.36321, 222.353)

[node name="Map" parent="Match" instance=ExtResource("12_kfcua")]

[node name="Panel" type="Panel" parent="."]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -334.0
offset_bottom = 291.0
grow_horizontal = 0

[node name="RichTextLabel" type="RichTextLabel" parent="Panel"]
layout_mode = 1
offset_right = 323.0
offset_bottom = 288.0
size_flags_horizontal = 8
size_flags_vertical = 0
text = "Usage:

Pilot Mode
 - Use Mouse to look around
 - w a s d (+shift) to move

Command Mode
 - Hold Alt to switch to Command Mode
 - Use Mouse to Command Units
 - Left Click to Select Unit
 - Right Click to give Movement Order"
